// #include "print_funcs.h"

/* font.c
 *
 * bitmap font data 
 * designed by Henrik Theiling for Liquid Rendering, 2009
 * 
 *
 * adapted for aleph project by monome 2012
*/

// ordering is column-first for easier variable spacing
/* (0,0) = top left
 * pixel(x,y) = (bool)(font_data[x].data & (1 << y)) */

//#include "compiler.h"
// #include "types.h"
#include "font.h"

// #include "fonts/ume_tgo5_18.h"

// maxiumum string size to attempt rendering
#define MAX_RENDER_STRING 32

// glyph table to use 

/// FIXME: implement this, it would be a little faster
// column-first buffer indexing
// #define COL_FIRST

// glyph.last is the inset from right hand edge of glyph box...
const glyph_t font_data[] = {
  // { /* 0x00020UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 } },  // ␣
  // { /* 0x00021UL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x2e, 0x00, 0x00, 0x00 } },  // !
  // { /* 0x00022UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x04, 0x02, 0x04, 0x02, 0x00 } },  // "
  // { /* 0x00023UL, 0, 2UL, */ 1, 2, { 0x00, 0x14, 0x3e, 0x14, 0x3e, 0x14, 0x00 } },  // #
  // { /* 0x00024UL, 0, 2UL, */ 1, 2, { 0x00, 0x24, 0x2a, 0x3e, 0x2a, 0x12, 0x00 } },  // $
  // { /* 0x00025UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x32, 0x08, 0x26, 0x00, 0x00 } },  // %
  // { /* 0x00026UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x14, 0x2a, 0x34, 0x00, 0x00 } },  // &
  // { /* 0x00027UL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00 } },  // '
  // { /* 0x00028UL, 0, 2UL, */ 3, 3, { 0x00, 0x00, 0x00, 0x1c, 0x22, 0x00, 0x00 } },  // (
  // { /* 0x00029UL, 0, 2UL, */ 3, 3, { 0x00, 0x00, 0x00, 0x22, 0x1c, 0x00, 0x00 } },  // )
  // { /* 0x0002aUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x04, 0x0e, 0x04, 0x00, 0x00 } },  // *
  // { /* 0x0002bUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x04, 0x0e, 0x04, 0x00, 0x00 } },  // +
  // { /* 0x0002cUL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00 } },  // ,
  // { /* 0x0002dUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x02, 0x02, 0x02, 0x00, 0x00 } },  // -
  // { /* 0x0002eUL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00 } },  // .
  // { /* 0x0002fUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x30, 0x08, 0x06, 0x00, 0x00 } },  // /
  // { /* 0x00030UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1c, 0x22, 0x22, 0x1c, 0x00 } },  // 0
  // { /* 0x00031UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x24, 0x3e, 0x20, 0x00, 0x00 } },  // 1
  // { /* 0x00032UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x32, 0x2a, 0x2a, 0x24, 0x00 } },  // 2
  // { /* 0x00033UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x22, 0x2a, 0x2a, 0x14, 0x00 } },  // 3
  // { /* 0x00034UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x0e, 0x08, 0x08, 0x3e, 0x00 } },  // 4
  // { /* 0x00035UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x2e, 0x2a, 0x2a, 0x12, 0x00 } },  // 5
  // { /* 0x00036UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1c, 0x2a, 0x2a, 0x12, 0x00 } },  // 6
  // { /* 0x00037UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x02, 0x32, 0x0a, 0x06, 0x00 } },  // 7
  // { /* 0x00038UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x14, 0x2a, 0x2a, 0x14, 0x00 } },  // 8
  // { /* 0x00039UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x04, 0x2a, 0x2a, 0x1c, 0x00 } },  // 9
  // { /* 0x0003aUL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x0a, 0x00, 0x00, 0x00 } },  // :
  // { /* 0x0003bUL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x1a, 0x00, 0x00, 0x00 } },  // ;
  // { /* 0x0003cUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x04, 0x0a, 0x0a, 0x00, 0x00 } },  // <
  // { /* 0x0003dUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x0a, 0x0a, 0x0a, 0x00, 0x00 } },  // =
  // { /* 0x0003eUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x0a, 0x0a, 0x04, 0x00, 0x00 } },  // >
  // { /* 0x0003fUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x02, 0x2a, 0x0a, 0x04, 0x00 } },  // ?
  // { /* 0x00040UL, 0, 2UL, */ 1, 2, { 0x00, 0x10, 0x2a, 0x3a, 0x22, 0x1c, 0x00 } },  // @
  // { /* 0x00041UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3c, 0x12, 0x12, 0x3c, 0x00 } },  // A
  // { /* 0x00042UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x2a, 0x2a, 0x14, 0x00 } },  // B
  // { /* 0x00043UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1c, 0x22, 0x22, 0x14, 0x00 } },  // C
  // { /* 0x00044UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x22, 0x22, 0x1c, 0x00 } },  // D
  // { /* 0x00045UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x2a, 0x2a, 0x22, 0x00 } },  // E
  // { /* 0x00046UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x0a, 0x0a, 0x02, 0x00 } },  // F
  // { /* 0x00047UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1c, 0x22, 0x2a, 0x1a, 0x00 } },  // G
  // { /* 0x00048UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x08, 0x08, 0x3e, 0x00 } },  // H
  // { /* 0x00049UL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x3e, 0x00, 0x00, 0x00 } },  // I
  // { /* 0x0004aUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x30, 0x20, 0x1e, 0x00, 0x00 } },  // J
  // { /* 0x0004bUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x08, 0x08, 0x36, 0x00 } },  // K
  // { /* 0x0004cUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x20, 0x20, 0x20, 0x00 } },  // L
  // { /* 0x0004dUL, 0, 2UL, */ 1, 2, { 0x00, 0x3e, 0x04, 0x08, 0x04, 0x3e, 0x00 } },  // M
  // { /* 0x0004eUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x04, 0x08, 0x3e, 0x00 } },  // N
  // { /* 0x0004fUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1c, 0x22, 0x22, 0x1c, 0x00 } },  // O
  // { /* 0x00050UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x12, 0x12, 0x0c, 0x00 } },  // P
  // { /* 0x00051UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1c, 0x22, 0x32, 0x3c, 0x00 } },  // Q
  // { /* 0x00052UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x0a, 0x0a, 0x34, 0x00 } },  // R
  // { /* 0x00053UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x24, 0x2a, 0x2a, 0x12, 0x00 } },  // S
  // { /* 0x00054UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x02, 0x3e, 0x02, 0x00, 0x00 } },  // T
  // { /* 0x00055UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1e, 0x20, 0x20, 0x1e, 0x00 } },  // U
  // { /* 0x00056UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1e, 0x20, 0x10, 0x0e, 0x00 } },  // V
  // { /* 0x00057UL, 0, 2UL, */ 1, 2, { 0x00, 0x3e, 0x10, 0x08, 0x10, 0x3e, 0x00 } },  // W
  // { /* 0x00058UL, 0, 2UL, */ 1, 2, { 0x00, 0x22, 0x14, 0x08, 0x14, 0x22, 0x00 } },  // X
  // { /* 0x00059UL, 0, 2UL, */ 1, 2, { 0x00, 0x06, 0x08, 0x30, 0x08, 0x06, 0x00 } },  // Y
  // { /* 0x0005aUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x32, 0x2a, 0x2a, 0x26, 0x00 } },  // Z
  // { /* 0x0005bUL, 0, 2UL, */ 3, 3, { 0x00, 0x00, 0x00, 0x3e, 0x22, 0x00, 0x00 } },  // [
  // { /* 0x0005cUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x06, 0x08, 0x30, 0x00, 0x00 } },  // '\'
  // { /* 0x0005dUL, 0, 2UL, */ 3, 3, { 0x00, 0x00, 0x00, 0x22, 0x3e, 0x00, 0x00 } },  // ]
  // { /* 0x0005eUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x04, 0x02, 0x04, 0x00, 0x00 } },  // ^
  // { /* 0x0005fUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x02, 0x02, 0x02, 0x00, 0x00 } },  // _
  // { /* 0x00060UL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x00 } },  // `
  // { /* 0x00061UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3c, 0x12, 0x12, 0x3c, 0x00 } },  // a
  // { /* 0x00062UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x2a, 0x2a, 0x14, 0x00 } },  // b
  // { /* 0x00063UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1c, 0x22, 0x22, 0x14, 0x00 } },  // c
  // { /* 0x00064UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x22, 0x22, 0x1c, 0x00 } },  // d
  // { /* 0x00065UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x2a, 0x2a, 0x22, 0x00 } },  // e
  // { /* 0x00066UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x0a, 0x0a, 0x02, 0x00 } },  // f
  // { /* 0x00067UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1c, 0x22, 0x2a, 0x1a, 0x00 } },  // g
  // { /* 0x00068UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x08, 0x08, 0x3e, 0x00 } },  // h
  // { /* 0x00069UL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x3e, 0x00, 0x00, 0x00 } },  // i
  // { /* 0x0006aUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x30, 0x20, 0x1e, 0x00, 0x00 } },  // j
  // { /* 0x0006bUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x08, 0x08, 0x36, 0x00 } },  // k
  // { /* 0x0006cUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x20, 0x20, 0x20, 0x00 } },  // l
  // { /* 0x0006dUL, 0, 2UL, */ 1, 2, { 0x00, 0x3e, 0x04, 0x08, 0x04, 0x3e, 0x00 } },  // m
  // { /* 0x0006eUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x04, 0x08, 0x3e, 0x00 } },  // n
  // { /* 0x0006fUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1c, 0x22, 0x22, 0x1c, 0x00 } },  // o
  // { /* 0x00070UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x12, 0x12, 0x0c, 0x00 } },  // p
  // { /* 0x00071UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1c, 0x22, 0x32, 0x3c, 0x00 } },  // q
  // { /* 0x00072UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x3e, 0x0a, 0x0a, 0x34, 0x00 } },  // r
  // { /* 0x00073UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x24, 0x2a, 0x2a, 0x12, 0x00 } },  // s
  // { /* 0x00074UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x02, 0x3e, 0x02, 0x00, 0x00 } },  // t
  // { /* 0x00075UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1e, 0x20, 0x20, 0x1e, 0x00 } },  // u
  // { /* 0x00076UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x1e, 0x20, 0x10, 0x0e, 0x00 } },  // v
  // { /* 0x00077UL, 0, 2UL, */ 1, 2, { 0x00, 0x1e, 0x20, 0x18, 0x20, 0x1e, 0x00 } },  // w
  // { /* 0x00078UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x36, 0x08, 0x08, 0x36, 0x00 } },  // x
  // { /* 0x00079UL, 0, 2UL, */ 1, 2, { 0x00, 0x02, 0x04, 0x38, 0x04, 0x02, 0x00 } },  // y
  // { /* 0x0007aUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x32, 0x2a, 0x2a, 0x26, 0x00 } },  // z
  // { /* 0x0007bUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x08, 0x3e, 0x22, 0x00, 0x00 } },  // {
  // { /* 0x0007cUL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x3e, 0x00, 0x00, 0x00 } },  // |
  // { /* 0x0007dUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x22, 0x3e, 0x08, 0x00, 0x00 } },  // }
  // { /* 0x0007eUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x06, 0x02, 0x04, 0x06, 0x00 } },  // ~
  // { /* 0x0007fUL, 0, 2UL, */ 0, 0, { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 } },  // ⌫

    { /* 0x00020UL, 0, 2UL, */ 0, 0, { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 } },  // ␣
  { /* 0x00021UL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00 } },  // !
  { /* 0x00022UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x0c, 0x00, 0x0c, 0x00, 0x00 } },  // "
  { /* 0x00023UL, 0, 2UL, */ 1, 2, { 0x00, 0x28, 0x7c, 0x28, 0x7c, 0x28, 0x00 } },  // #
  { /* 0x00024UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x5c, 0xd6, 0x74, 0x00, 0x00 } },  // $
  { /* 0x00025UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x60, 0x10, 0x0c, 0x00, 0x00 } },  // %
  { /* 0x00026UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x78, 0x54, 0x74, 0x10, 0x00 } },  // &
  { /* 0x00027UL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x0c, 0x00, 0x00, 0x00 } },  // '
  { /* 0x00028UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x3c, 0x42, 0x42, 0x00, 0x00 } },  // (
  { /* 0x00029UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x42, 0x42, 0x3c, 0x00, 0x00 } },  // )
  { /* 0x0002aUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x0a, 0x04, 0x0a, 0x00, 0x00 } },  // *
  { /* 0x0002bUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x10, 0x38, 0x10, 0x00, 0x00 } },  // +
  { /* 0x0002cUL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0xc0, 0x00, 0x00, 0x00 } },  // ,
  { /* 0x0002dUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x10, 0x10, 0x10, 0x00, 0x00 } },  // -
  { /* 0x0002eUL, 0, 2UL, */ 2, 5, { 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00 } },  // .
  { /* 0x0002fUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x60, 0x18, 0x06, 0x00, 0x00 } },  // /
  { /* 0x00030UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x44, 0x7c, 0x00, 0x00 } },  // 0
  { /* 0x00031UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x44, 0x7c, 0x40, 0x00, 0x00 } },  // 1
  { /* 0x00032UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x74, 0x54, 0x5c, 0x00, 0x00 } },  // 2
  { /* 0x00033UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x54, 0x54, 0x7c, 0x00, 0x00 } },  // 3
  { /* 0x00034UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x1c, 0x10, 0x7c, 0x00, 0x00 } },  // 4
  { /* 0x00035UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x5c, 0x54, 0x74, 0x00, 0x00 } },  // 5
  { /* 0x00036UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x54, 0x74, 0x00, 0x00 } },  // 6
  { /* 0x00037UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x04, 0x74, 0x0c, 0x00, 0x00 } },  // 7
  { /* 0x00038UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x54, 0x7c, 0x00, 0x00 } },  // 8
  { /* 0x00039UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x5c, 0x54, 0x7c, 0x00, 0x00 } },  // 9
  { /* 0x0003aUL, 0, 2UL, */ 0, 0, { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 } },  // :
  { /* 0x0003bUL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00 } },  // ;
  { /* 0x0003cUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x10, 0x28, 0x44, 0x00, 0x00 } },  // <
  { /* 0x0003dUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x28, 0x28, 0x28, 0x00, 0x00 } },  // =
  { /* 0x0003eUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x44, 0x28, 0x10, 0x00, 0x00 } },  // >
  { /* 0x0003fUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x04, 0x54, 0x1c, 0x00, 0x00 } },  // ?
  { /* 0x00040UL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x7c, 0xa2, 0xb6, 0x3c, 0x00 } },  // @
  { /* 0x00041UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x14, 0x7c, 0x00, 0x00 } },  // A
  { /* 0x00042UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x54, 0x7c, 0x00, 0x00 } },  // B
  { /* 0x00043UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x44, 0x6c, 0x00, 0x00 } },  // C
  { /* 0x00044UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x44, 0x38, 0x00, 0x00 } },  // D
  { /* 0x00045UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x54, 0x54, 0x00, 0x00 } },  // E
  { /* 0x00046UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x14, 0x14, 0x00, 0x00 } },  // F
  { /* 0x00047UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x38, 0x44, 0x74, 0x00, 0x00 } },  // G
  { /* 0x00048UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x10, 0x7c, 0x00, 0x00 } },  // H
  { /* 0x00049UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x44, 0x7c, 0x44, 0x00, 0x00 } },  // I
  { /* 0x0004aUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x44, 0x44, 0x3c, 0x00, 0x00 } },  // J
  { /* 0x0004bUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x10, 0x6c, 0x00, 0x00 } },  // K
  { /* 0x0004cUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x40, 0x40, 0x00, 0x00 } },  // L
  { /* 0x0004dUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x08, 0x7c, 0x00, 0x00 } },  // M
  { /* 0x0004eUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x04, 0x78, 0x00, 0x00 } },  // N
  { /* 0x0004fUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x44, 0x7c, 0x00, 0x00 } },  // O
  { /* 0x00050UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x14, 0x08, 0x00, 0x00 } },  // P
  { /* 0x00051UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x38, 0x44, 0x78, 0x00, 0x00 } },  // Q
  { /* 0x00052UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x14, 0x6c, 0x00, 0x00 } },  // R
  { /* 0x00053UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x5c, 0x54, 0x74, 0x00, 0x00 } },  // S
  { /* 0x00054UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x04, 0x7c, 0x04, 0x00, 0x00 } },  // T
  { /* 0x00055UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x3c, 0x40, 0x7c, 0x00, 0x00 } },  // U
  { /* 0x00056UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x40, 0x3c, 0x00, 0x00 } },  // V
  { /* 0x00057UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x20, 0x7c, 0x00, 0x00 } },  // W
  { /* 0x00058UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x6c, 0x10, 0x6c, 0x00, 0x00 } },  // X
  { /* 0x00059UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x5c, 0x50, 0x7c, 0x00, 0x00 } },  // Y
  { /* 0x0005aUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x74, 0x54, 0x5c, 0x00, 0x00 } },  // Z
  { /* 0x0005bUL, 0, 2UL, */ 3, 3, { 0x00, 0x00, 0x00, 0x7e, 0x42, 0x00, 0x00 } },  // [
  { /* 0x0005cUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x06, 0x18, 0x60, 0x00, 0x00 } },  // 
  { /* 0x0005dUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x42, 0x7e, 0x00, 0x00, 0x00 } },  // ]
  { /* 0x0005eUL, 0, 2UL, */ 1, 2, { 0x00, 0x08, 0x0c, 0x0e, 0x0c, 0x08, 0x00 } },  // ^
  { /* 0x0005fUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x40, 0x40, 0x40, 0x00, 0x00 } },  // _
  { /* 0x00060UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x04, 0x08, 0x00, 0x00, 0x00 } },  // `
  { /* 0x00061UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x68, 0x58, 0x78, 0x00, 0x00 } },  // a
  { /* 0x00062UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x48, 0x78, 0x00, 0x00 } },  // b
  { /* 0x00063UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x78, 0x48, 0x48, 0x00, 0x00 } },  // c
  { /* 0x00064UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x78, 0x48, 0x7c, 0x00, 0x00 } },  // d
  { /* 0x00065UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x78, 0x68, 0x58, 0x00, 0x00 } },  // e
  { /* 0x00066UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x14, 0x04, 0x00, 0x00 } },  // f
  { /* 0x00067UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x78, 0x48, 0xf8, 0x00, 0x00 } },  // g
  { /* 0x00068UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x08, 0x78, 0x00, 0x00 } },  // h
  { /* 0x00069UL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x74, 0x00, 0x00, 0x00 } },  // i
  { /* 0x0006aUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x80, 0xf4, 0x00, 0x00, 0x00 } },  // j
  { /* 0x0006bUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x7c, 0x10, 0x68, 0x00, 0x00 } },  // k
  { /* 0x0006cUL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x7c, 0x00, 0x00, 0x00 } },  // l
  { /* 0x0006dUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x78, 0x10, 0x78, 0x00, 0x00 } },  // m
  { /* 0x0006eUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x78, 0x08, 0x70, 0x00, 0x00 } },  // n
  { /* 0x0006fUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x78, 0x48, 0x78, 0x00, 0x00 } },  // o
  { /* 0x00070UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0xf8, 0x48, 0x78, 0x00, 0x00 } },  // p
  { /* 0x00071UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x78, 0x48, 0xf8, 0x00, 0x00 } },  // q
  { /* 0x00072UL, 0, 2UL, */ 3, 3, { 0x00, 0x00, 0x00, 0x78, 0x08, 0x00, 0x00 } },  // r
  { /* 0x00073UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x58, 0x58, 0x68, 0x00, 0x00 } },  // s
  { /* 0x00074UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x08, 0x7c, 0x08, 0x00, 0x00 } },  // t
  { /* 0x00075UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x78, 0x40, 0x78, 0x00, 0x00 } },  // u
  { /* 0x00076UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x38, 0x40, 0x78, 0x00, 0x00 } },  // v
  { /* 0x00077UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x78, 0x20, 0x78, 0x00, 0x00 } },  // w
  { /* 0x00078UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x68, 0x10, 0x68, 0x00, 0x00 } },  // x
  { /* 0x00079UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x78, 0x40, 0xf8, 0x00, 0x00 } },  // y
  { /* 0x0007aUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x68, 0x58, 0x48, 0x00, 0x00 } },  // z
  { /* 0x0007bUL, 0, 2UL, */ 3, 3, { 0x00, 0x00, 0x00, 0x20, 0xdc, 0x00, 0x00 } },  // {
  { /* 0x0007cUL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x7c, 0x00, 0x00, 0x00 } },  // |
  { /* 0x0007dUL, 0, 2UL, */ 4, 2, { 0x00, 0x00, 0x00, 0x00, 0xdc, 0x20, 0x00 } },  // }
  { /* 0x0007eUL, 0, 2UL, */ 2, 2, { 0x00, 0x00, 0x20, 0x30, 0x30, 0x10, 0x00 } },  // ~
  { /* 0x0007fUL, 0, 2UL, */ 0, 0, { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 } },  // ⌫
};

const uint32_t font_nglyphs = sizeof(font_data)/sizeof(glyph_t) - 1;

const glyph2_t font2_data[] = {
  { /* 0x00020UL, 0, 2UL, */ 0, 0, { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 } },  // ␣
  { /* 0x00021UL, 0, 2UL, */ 4, 5, { 0x00, 0x00, 0x00, 0x00, 0x19fe, 0x19fe, 0x00, 0x00, 0x00, 0x00 } },  // !
  { /* 0x00022UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1e, 0x1e, 0x00, 0x1e, 0x1e, 0x00, 0x00, 0x00 } },  // "
  { /* 0x00023UL, 0, 2UL, */ 1, 2, { 0x00, 0x330, 0x7f8, 0x7f8, 0x330, 0x330, 0x7f8, 0x7f8, 0x330, 0x00 } },  // #
  { /* 0x00024UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x330, 0x778, 0x1efe, 0x1fde, 0x7b8, 0x330, 0x00, 0x00 } },  // $
  { /* 0x00025UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1f06, 0x1f86, 0x1c0, 0x18fe, 0x187e, 0x00, 0x00, 0x00 } },  // %
  { /* 0x00026UL, 0, 2UL, */ 1, 2, { 0x00, 0xf3c, 0x1ffe, 0x18e6, 0x19e6, 0x1ffe, 0xf3c, 0x1e00, 0x1800, 0x00 } },  // &
  { /* 0x00027UL, 0, 2UL, */ 4, 5, { 0x00, 0x00, 0x00, 0x00, 0x0c, 0x0c, 0x00, 0x00, 0x00, 0x00 } },  // '
  { /* 0x00028UL, 0, 2UL, */ 2, 5, { 0x00, 0x00, 0xffc, 0x1ffe, 0x1806, 0x1806, 0x00, 0x00, 0x00, 0x00 } },  // (
  { /* 0x00029UL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x1806, 0x1806, 0x1ffe, 0xffc, 0x00, 0x00, 0x00 } },  // )
  { /* 0x0002aUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x30, 0x30, 0xcc, 0xcc, 0x30, 0x30, 0x00, 0x00 } },  // *
  { /* 0x0002bUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0xc0, 0xc0, 0x3f0, 0x3f0, 0xc0, 0xc0, 0x00, 0x00 } },  // +
  { /* 0x0002cUL, 0, 2UL, */ 4, 4, { 0x00, 0x00, 0x00, 0x00, 0x1800, 0x1c00, 0xc00, 0x00, 0x00, 0x00 } },  // ,
  { /* 0x0002dUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xc0, 0xc0, 0xc0, 0xc0, 0xc0, 0x00, 0x00, 0x00 } },  // -
  { /* 0x0002eUL, 0, 2UL, */ 4, 5, { 0x00, 0x00, 0x00, 0x00, 0x1800, 0x1800, 0x00, 0x00, 0x00, 0x00 } },  // .
  { /* 0x0002fUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1f00, 0x1f80, 0x1c0, 0xfc, 0x7c, 0x00, 0x00, 0x00 } },  // /
  { /* 0x00030UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xffc, 0x1ffe, 0x1806, 0x1ffe, 0xffc, 0x00, 0x00, 0x00 } },  // 0
  { /* 0x00031UL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x04, 0x06, 0x1ffe, 0x1ffe, 0x00, 0x00, 0x00 } },  // 1
  { /* 0x00032UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1e0c, 0x1f0e, 0x1b86, 0x19fe, 0x18fc, 0x00, 0x00, 0x00 } },  // 2
  { /* 0x00033UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1806, 0x18c6, 0x18c6, 0x1ffe, 0xffc, 0x00, 0x00, 0x00 } },  // 3
  { /* 0x00034UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x7e, 0xfe, 0xc0, 0x1ffe, 0x1ffe, 0x00, 0x00, 0x00 } },  // 4
  { /* 0x00035UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x18fe, 0x18fe, 0x18c6, 0x1fc6, 0xf86, 0x00, 0x00, 0x00 } },  // 5
  { /* 0x00036UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xffc, 0x1ffe, 0x18c6, 0x1fc6, 0xf80, 0x00, 0x00, 0x00 } },  // 6
  { /* 0x00037UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1f06, 0x1f86, 0x1c6, 0xfe, 0x7e, 0x00, 0x00, 0x00 } },  // 7
  { /* 0x00038UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xf3c, 0x1ffe, 0x18c6, 0x1ffe, 0xf3c, 0x00, 0x00, 0x00 } },  // 8
  { /* 0x00039UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x7c, 0x18fe, 0x18c6, 0x1ffe, 0xffc, 0x00, 0x00, 0x00 } },  // 9
  { /* 0x0003aUL, 0, 2UL, */ 4, 5, { 0x00, 0x00, 0x00, 0x00, 0xc30, 0xc30, 0x00, 0x00, 0x00, 0x00 } },  // :
  { /* 0x0003bUL, 0, 2UL, */ 4, 5, { 0x00, 0x00, 0x00, 0x00, 0x1c30, 0x1c30, 0x00, 0x00, 0x00, 0x00 } },  // ;
  { /* 0x0003cUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x80, 0x1c0, 0x3e0, 0x770, 0x630, 0x00, 0x00, 0x00 } },  // <
  { /* 0x0003dUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x360, 0x360, 0x360, 0x360, 0x360, 0x00, 0x00, 0x00 } },  // =
  { /* 0x0003eUL, 0, 2UL, */ 3, 3, { 0x00, 0x00, 0x00, 0x630, 0x770, 0x3e0, 0x1c0, 0x80, 0x00, 0x00 } },  // >
  { /* 0x0003fUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x0c, 0x0e, 0x1bc6, 0x1bfe, 0x7c, 0x00, 0x00, 0x00 } },  // ?
  { /* 0x00040UL, 0, 2UL, */ 1, 2, { 0x00, 0x7f8, 0xffc, 0x1c0e, 0x19e6, 0x19e6, 0x198e, 0x1fc, 0xf8, 0x00 } },  // @
  { /* 0x00041UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffc, 0x1ffe, 0xc6, 0x1ffe, 0x1ffc, 0x00, 0x00, 0x00 } },  // A
  { /* 0x00042UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffe, 0x1ffe, 0x18c6, 0x1ffe, 0xf3c, 0x00, 0x00, 0x00 } },  // B
  { /* 0x00043UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xffc, 0x1ffe, 0x1806, 0x1c0e, 0xc0c, 0x00, 0x00, 0x00 } },  // C
  { /* 0x00044UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffe, 0x1ffe, 0x1806, 0x1ffe, 0xffc, 0x00, 0x00, 0x00 } },  // D
  { /* 0x00045UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffe, 0x1ffe, 0x18c6, 0x18c6, 0x1806, 0x00, 0x00, 0x00 } },  // E
  { /* 0x00046UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffe, 0x1ffe, 0xc6, 0xc6, 0x06, 0x00, 0x00, 0x00 } },  // F
  { /* 0x00047UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xffc, 0x1ffe, 0x1886, 0x1f9e, 0xf9c, 0x00, 0x00, 0x00 } },  // G
  { /* 0x00048UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffe, 0x1ffe, 0xc0, 0x1ffe, 0x1ffe, 0x00, 0x00, 0x00 } },  // H
  { /* 0x00049UL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x1806, 0x1ffe, 0x1ffe, 0x1806, 0x00, 0x00, 0x00 } },  // I
  { /* 0x0004aUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xc00, 0x1c00, 0x1800, 0x1ffe, 0xffe, 0x00, 0x00, 0x00 } },  // J
  { /* 0x0004bUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffe, 0x1ffe, 0xc0, 0x1ffe, 0x1f3e, 0x00, 0x00, 0x00 } },  // K
  { /* 0x0004cUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffe, 0x1ffe, 0x1800, 0x1800, 0x1800, 0x00, 0x00, 0x00 } },  // L
  { /* 0x0004dUL, 0, 2UL, */ 1, 2, { 0x00, 0x1ff8, 0x1ffc, 0x0e, 0x1ffc, 0x1ffc, 0x0e, 0x1ffc, 0x1ff8, 0x00 } },  // M
  { /* 0x0004eUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffc, 0x1ffe, 0x06, 0x1ffe, 0x1ffc, 0x00, 0x00, 0x00 } },  // N
  { /* 0x0004fUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xffc, 0x1ffe, 0x1806, 0x1ffe, 0xffc, 0x00, 0x00, 0x00 } },  // O
  { /* 0x00050UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffe, 0x1ffe, 0xc6, 0xfe, 0x7c, 0x00, 0x00, 0x00 } },  // P
  { /* 0x00051UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0xffc, 0x1ffe, 0x1806, 0x1ffe, 0x1ffc, 0x1800, 0x00, 0x00 } },  // Q
  { /* 0x00052UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffc, 0x1ffe, 0xc6, 0x1ffe, 0x1f3c, 0x00, 0x00, 0x00 } },  // R
  { /* 0x00053UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xc7c, 0x1cfe, 0x19c6, 0x1f8e, 0xf0c, 0x00, 0x00, 0x00 } },  // S
  { /* 0x00054UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x06, 0x06, 0x1ffe, 0x1ffe, 0x06, 0x06, 0x00, 0x00 } },  // T
  { /* 0x00055UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xffe, 0x1ffe, 0x1800, 0x1ffe, 0xffe, 0x00, 0x00, 0x00 } },  // U
  { /* 0x00056UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x7fe, 0xffe, 0x1c00, 0xffe, 0x7fe, 0x00, 0x00, 0x00 } },  // V
  { /* 0x00057UL, 0, 2UL, */ 1, 2, { 0x00, 0x7fe, 0xffe, 0x1c00, 0xffe, 0xffe, 0x1c00, 0xffe, 0x7fe, 0x00 } },  // W
  { /* 0x00058UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1fbe, 0x1ffe, 0xe0, 0x1ffe, 0x1fbe, 0x00, 0x00, 0x00 } },  // X
  { /* 0x00059UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0xfe, 0x1fe, 0x1f80, 0x1f80, 0x1fe, 0xfe, 0x00, 0x00 } },  // Y
  { /* 0x0005aUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1f86, 0x1fc6, 0x18e6, 0x187e, 0x183e, 0x00, 0x00, 0x00 } },  // Z
  { /* 0x0005bUL, 0, 2UL, */ 3, 5, { 0x00, 0x00, 0x00, 0x1ffe, 0x1ffe, 0x1806, 0x00, 0x00, 0x00, 0x00 } },  // [
  { /* 0x0005cUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x7e, 0xfe, 0x1c0, 0x1f80, 0x1f00, 0x00, 0x00, 0x00 } },  //
  { /* 0x0005dUL, 0, 2UL, */ 3, 5, { 0x00, 0x00, 0x00, 0x1806, 0x1ffe, 0x1ffe, 0x00, 0x00, 0x00, 0x00 } },  // ]
  { /* 0x0005eUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x18, 0x1c, 0x0e, 0x1c, 0x18, 0x00, 0x00, 0x00 } },  // ^
  { /* 0x0005fUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1800, 0x1800, 0x1800, 0x1800, 0x1800, 0x00, 0x00, 0x00 } },  // _
  { /* 0x00060UL, 0, 2UL, */ 3, 5, { 0x00, 0x00, 0x00, 0x06, 0x0e, 0x0c, 0x00, 0x00, 0x00, 0x00 } },  // `
  { /* 0x00061UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0xfe0, 0x1ff0, 0x1830, 0xff0, 0x1fe0, 0x1800, 0x00, 0x00 } },  // a
  { /* 0x00062UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xffe, 0x1ffe, 0x1830, 0x1ff0, 0xfe0, 0x00, 0x00, 0x00 } },  // b
  { /* 0x00063UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xfe0, 0x1ff0, 0x1830, 0x1c70, 0xc60, 0x00, 0x00, 0x00 } },  // c
  { /* 0x00064UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xfe0, 0x1ff0, 0x1830, 0x1ffe, 0xffe, 0x00, 0x00, 0x00 } },  // d
  { /* 0x00065UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xfe0, 0x1ff0, 0x19b0, 0x1df0, 0xde0, 0x00, 0x00, 0x00 } },  // e
  { /* 0x00066UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffc, 0x1ffe, 0xc6, 0xce, 0x0c, 0x00, 0x00, 0x00 } },  // f
  { /* 0x00067UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x19e0, 0x1bf0, 0x1b30, 0x1ff0, 0xfe0, 0x00, 0x00, 0x00 } },  // g
  { /* 0x00068UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffe, 0x1ffe, 0x30, 0x1ff0, 0x1fe0, 0x00, 0x00, 0x00 } },  // h
  { /* 0x00069UL, 0, 2UL, */ 4, 5, { 0x00, 0x00, 0x00, 0x00, 0x1fe6, 0x1fe6, 0x00, 0x00, 0x00, 0x00 } },  // i
  { /* 0x0006aUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xc00, 0x1c00, 0x1800, 0x1fe6, 0xfe6, 0x00, 0x00, 0x00 } },  // j
  { /* 0x0006bUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ffe, 0x1ffe, 0x300, 0x1fe0, 0x1ce0, 0x00, 0x00, 0x00 } },  // k
  { /* 0x0006cUL, 0, 2UL, */ 4, 5, { 0x00, 0x00, 0x00, 0x00, 0x1ffe, 0x1ffe, 0x00, 0x00, 0x00, 0x00 } },  // l
  { /* 0x0006dUL, 0, 2UL, */ 1, 2, { 0x00, 0x1fe0, 0x1ff0, 0x30, 0x1fe0, 0x1fe0, 0x30, 0x1ff0, 0x1fe0, 0x00 } },  // m
  { /* 0x0006eUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1fe0, 0x1ff0, 0x30, 0x1ff0, 0x1fe0, 0x00, 0x00, 0x00 } },  // n
  { /* 0x0006fUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xfe0, 0x1ff0, 0x1830, 0x1ff0, 0xfe0, 0x00, 0x00, 0x00 } },  // o
  { /* 0x00070UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1fe0, 0x1ff0, 0x630, 0x7f0, 0x3e0, 0x00, 0x00, 0x00 } },  // p
  { /* 0x00071UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x3e0, 0x7f0, 0x630, 0x1ff0, 0x1fe0, 0x00, 0x00, 0x00 } },  // q
  { /* 0x00072UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1fe0, 0x1ff0, 0x30, 0x70, 0x60, 0x00, 0x00, 0x00 } },  // r
  { /* 0x00073UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xce0, 0x1df0, 0x1bb0, 0x1f70, 0xe60, 0x00, 0x00, 0x00 } },  // s
  { /* 0x00074UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x60, 0x1ffe, 0x1ffe, 0x1860, 0x1860, 0x00, 0x00, 0x00 } },  // t
  { /* 0x00075UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0xfe0, 0x1fe0, 0x1800, 0x1fe0, 0xfe0, 0x00, 0x00, 0x00 } },  // u
  { /* 0x00076UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x7e0, 0xfe0, 0x1c00, 0xfe0, 0x7e0, 0x00, 0x00, 0x00 } },  // v
  { /* 0x00077UL, 0, 2UL, */ 1, 2, { 0x00, 0x7e0, 0xfe0, 0x1c00, 0xfe0, 0xfe0, 0x1c00, 0xfe0, 0x7e0, 0x00 } },  // w
  { /* 0x00078UL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1ce0, 0x1fe0, 0x300, 0x1fe0, 0x1ce0, 0x00, 0x00, 0x00 } },  // x
  { /* 0x00079UL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x1e0, 0x3e0, 0x1f00, 0x1f00, 0x3e0, 0x1e0, 0x00, 0x00 } },  // y
  { /* 0x0007aUL, 0, 2UL, */ 2, 4, { 0x00, 0x00, 0x1e30, 0x1f30, 0x1bb0, 0x19f0, 0x18f0, 0x00, 0x00, 0x00 } },  // z
  { /* 0x0007bUL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x1c0, 0x1ffc, 0x1f7c, 0x180c, 0x00, 0x00, 0x00 } },  // {
  { /* 0x0007cUL, 0, 2UL, */ 4, 5, { 0x00, 0x00, 0x00, 0x00, 0x1ffc, 0x1ffc, 0x00, 0x00, 0x00, 0x00 } },  // |
  { /* 0x0007dUL, 0, 2UL, */ 3, 4, { 0x00, 0x00, 0x00, 0x180c, 0x1f7c, 0x1ffc, 0x1c0, 0x00, 0x00, 0x00 } },  // }
  { /* 0x0007eUL, 0, 2UL, */ 2, 3, { 0x00, 0x00, 0x18, 0x18, 0x0c, 0x0c, 0x18, 0x18, 0x00, 0x00 } },  // ~
  { /* 0x0007fUL, 0, 2UL, */ 0, 0, { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 } },  // ⌫
};

const uint32_t font2_nglyphs = sizeof(font2_data)/sizeof(glyph2_t) - 1;

//------------------------------------------
//-----  functions


// render single glyph to a flat buffer (1byte = 1px)
// given pointer to buffer, pixel offset, row length,
// foreground and background colors
// return columns used
extern uint8_t font_glyph(char ch, uint8_t* buf, uint8_t w, uint8_t a, uint8_t b) {
  uint8_t i=0;
  uint8_t j;
  uint8_t * p = buf;
  const glyph_t* gl = &(font_data[ch - FONT_ASCII_OFFSET]);

  // columns to draw
  uint8_t cols = FONT_CHARW - gl->first - gl->last;
  while(i < cols) {
    for(j=0; j<FONT_CHARH; j++) {
      *p = gl->data[i + gl->first] & (1 << j) ? a : b;
      //      if(*buf) { print_dbg("#"); } else { print_dbg("_"); }
      // point at next row
      p += w;
    }
    // increment column count
    i++;
    // reset pointer to row
    p = buf + i;
  }
  return cols;
}

// fixed_width variant
extern uint8_t font_glyph_fixed(char ch, uint8_t* buf, uint8_t w, uint8_t a, uint8_t b) {
  uint8_t i=0;
  uint8_t j;
  uint8_t * p = buf;
  const glyph_t* gl = &(font_data[ch - FONT_ASCII_OFFSET]);

  // columns to draw
  while(i < FONT_CHARW) {
    for(j=0; j<FONT_CHARH; j++) {
      *p = gl->data[i + gl->first] & (1 << j) ? a : b;
      // point at next row
      p += w;
    }
    // increment column count
    i++;
    // reset pointer to row
    p = buf + i;
  }
  return FONT_CHARW;
}

// same as font_glyph, double size
extern uint8_t* font_glyph_big(char ch, uint8_t* buf, uint8_t w, uint8_t a, uint8_t b) {
  uint8_t i=0, j, val;
  uint8_t* p = buf;
  const glyph_t* gl = &(font_data[ch - FONT_ASCII_OFFSET]);
  // columns to draw
  uint8_t cols = (FONT_CHARW - gl->first - gl->last);
  while(i < cols) {
    for(j=0; j<FONT_CHARH; j++) {
      val = gl->data[i + gl->first] & (1 << j) ? a : b;
      *p = val;
      *(p +1) = val;
      // point at next row
      p += w;
      // fill the next row as well
      *p = val;
      *(p +1) = val;
      // point at next row
      p += w;
    }
    // move pointer back the size of one column
    //    buf -= colOffset;
    // increment for next row
    //    buf += 2;
    // increment column count
    i++;
    // set pointer to next (pixel*2) in first row
    p = buf + (i*2);
  }
  return p;
}

// same as font_glyph,m 4x size
extern uint8_t* font_glyph_bigbig(char ch, uint8_t* buf, uint8_t w, uint8_t a, uint8_t b) {
  uint8_t i=0, j, val;
  uint8_t* p = buf;
  const glyph_t* gl = &(font_data[ch - FONT_ASCII_OFFSET]);
  // columns to draw
  uint8_t cols = (FONT_CHARW - gl->first - gl->last);
  while(i < cols) {
    for(j=0; j<FONT_CHARH; j++) {
      val = gl->data[i + gl->first] & (1 << j) ? a : b;
      *p = val;
      *(p +1) = val;
      *(p +2) = val;
      *(p +3) = val;
      // point at next row
      p += w;
      // fill the next row as well
      *p = val;
      *(p +1) = val;
      *(p +2) = val;
      *(p +3) = val;
      // point at next row
      p += w;
      // fill the next row as well
      *p = val;
      *(p +1) = val;
      *(p +2) = val;
      *(p +3) = val;
      // point at next row
      p += w;
      // fill the next row as well
      *p = val;
      *(p +1) = val;
      *(p +2) = val;
      *(p +3) = val;
      // point at next row
      p += w;
    }
    // move pointer back the size of one column
    //    buf -= colOffset;
    // increment for next row
    //    buf += 2;
    // increment column count
    i++;
    // set pointer to next (pixel*2) in first row
    p = buf + (i << 2);
  }
  return p;
}

uint8_t font2_glyph(char ch, uint8_t* buf, uint8_t w, uint8_t a, uint8_t b) {
    uint8_t i=0;
    uint8_t j;
    uint8_t * p = buf;
    const glyph2_t* gl = &(font2_data[ch - FONT2_ASCII_OFFSET]);

    uint8_t cols = FONT2_CHARW - gl->first - gl->last;
    while(i < cols) {
        for(j=0; j<FONT2_CHARH; j++) {
            *p = gl->data[i + gl->first] & (1 << j) ? a : b;
            p += w;
        }
        i++;
        p = buf + i;
    }
    return cols;
}

uint8_t* font2_string(const char* str, uint8_t* buf, uint32_t size, uint8_t w, uint8_t a, uint8_t b) {
    uint8_t* max = buf + size - 8;
    while(buf < max) {
        if (*str == 0) break;
        buf += font2_glyph(*str, buf, w, a, b);
        ++buf;
        ++str;
    }
    return buf;
}

void region_string_font2(region* reg, const char* str, uint8_t xoff, uint8_t yoff, uint8_t fg, uint8_t bg) {
    uint8_t* buf = reg->data + xoff + (uint32_t)(reg->w) * (uint32_t)yoff;
    uint8_t* max = reg->data + reg->len;
    uint32_t xmax = reg->w - FONT2_CHARW;
    uint8_t dx = 0;
    
    while(buf < max) {
        if(*str == 0) break;
        dx = font2_glyph(*str, buf, reg->w, fg, bg) + 1;
        buf += dx;
        xoff += dx;
        ++str;
        if(xoff > xmax) return;
    }
    reg->dirty = 1;
}

uint8_t font_string_position(const char* str, uint8_t pos) {
  uint8_t i = 0,n = 0;

  while(i<pos) {
    n+= FONT_CHARW - font_data[str[i] - FONT_ASCII_OFFSET].first - font_data[str[i] - FONT_ASCII_OFFSET].last;

    n++;
    i++;
  }

  return n;
}

uint8_t font_string_pixels(const char* str) {
  uint8_t i = 0,n = 0;

  while(str[i]) {
    n+= FONT_CHARW - font_data[str[i] - FONT_ASCII_OFFSET].first - font_data[str[i] - FONT_ASCII_OFFSET].last;

    n++;
    i++;
  }

  return n;
}

// render a string of packed glyphs to a buffer
uint8_t* font_string(const char* str, uint8_t* buf, uint32_t size, uint8_t w, uint8_t a, uint8_t b) {
  uint8_t* max = buf + size - 8; // pad 1 character width on right edge
  //  uint32_t x = 0;
  //  uint8_t dx = 0;

  while(buf < max) {
  //  while (x < w) {
    if (*str == 0) {
      // end of string
      break;
    }
    //    dx = font_glyph(*str, buf, w, a, b);
    //    buf = +=dx;
    buf += font_glyph(*str, buf, w, a, b);
    //    x += dx;
    // 1-column space between chars
    ++buf;
    //    ++x;
    ++str;
  }
  return buf;
}


// render a font string to a region.
// this allows for smarter bounds handling
void font_string_region_wrap(region* reg, const char* str, uint8_t xoff, uint8_t yoff, uint8_t fg, uint8_t bg) {
  uint8_t* buf = reg->data + xoff + (uint32_t)(reg->w) * (uint32_t)yoff;
  uint8_t* max = reg->data + reg->len;
  uint32_t xmax = reg->w - 7; // padding
  uint8_t dx = 0;
  while(buf < max) {
    // break on end of string
    if(*str == 0) { break; }    
    dx = font_glyph(*str, buf, reg->w, fg, bg) + 1;
    buf += dx;
    xoff += dx;
    ++str;
    // wrap lines
    if(xoff > xmax) { 
      xoff = 0; 
      buf += (reg->w - xoff); 
    //   print_dbg("\r\n font_string_region: wrapped line");
    }
  } 
}

// clipping variant
void font_string_region_clip(region* reg, const char* str, uint8_t xoff, uint8_t yoff, uint8_t fg, uint8_t bg) {
  uint8_t* buf = reg->data + xoff + (uint32_t)(reg->w) * (uint32_t)yoff;
  uint8_t* max = reg->data + reg->len;
  uint32_t xmax = reg->w - 7; // padding
  uint8_t dx = 0;
  while(buf < max) {
    // break on end of string
    if(*str == 0) { break; }    
    dx = font_glyph(*str, buf, reg->w, fg, bg) + 1;
    buf += dx;
    xoff += dx;
    ++str;
    // wrap lines
    if(xoff > xmax) { 
      return; 
    }
  } 
}

// clipping variant
#define TAB_POSITION 48
void font_string_region_clip_tab(region* reg, const char* str, uint8_t xoff, uint8_t yoff, uint8_t fg, uint8_t bg) {
  uint8_t* buf = reg->data + xoff + (uint32_t)(reg->w) * (uint32_t)yoff;
  uint8_t* max = reg->data + reg->len;
  uint32_t xmax = reg->w - 7; // padding
  uint8_t dx = 0;
  while(buf < max) {
    // break on end of string
    if(*str == 0) { break; }
    if(*str == '|') {
      buf = reg->data + TAB_POSITION + (uint32_t)(reg->w) * (uint32_t)yoff;
    }    
    else {
      dx = font_glyph(*str, buf, reg->w, fg, bg) + 1;
      buf += dx;
      xoff += dx;
    }
    ++str;
    // wrap lines
    if(xoff > xmax) { 
      return; 
    }
  } 
}

void font_string_region_clip_right(region* reg, const char* str, uint8_t xoff, uint8_t yoff, uint8_t fg, uint8_t bg) {
  int8_t x = xoff - font_string_pixels(str);
  if(x < 0) x = 0;
  uint8_t* buf = reg->data + x + (uint32_t)(reg->w) * (uint32_t)yoff;
  uint8_t* max = reg->data + reg->len;
  uint32_t xmax = reg->w - 6; // padding changed from 7 to 6 (only using 4 wide nums anyway)
  uint8_t dx = 0;
  while(buf < max) {
    // break on end of string
    if(*str == 0) { break; }    
    dx = font_glyph(*str, buf, reg->w, fg, bg) + 1;
    buf += dx;
    x += dx;
    ++str;
    // wrap lines
    if(x > xmax) { 
      return; 
    }
  } 
}

// clipping variant with hilight
void font_string_region_clip_hi(region* reg, const char* str, uint8_t xoff, uint8_t yoff, uint8_t fg, uint8_t bg, uint8_t hi) {
    font_string_region_clip_hid(reg, str, xoff, yoff, fg, bg, hi, 1);
}

// clipping variant with hilight
void font_string_region_clip_hid(region* reg, const char* str, uint8_t xoff, uint8_t yoff, uint8_t fg, uint8_t bg, uint8_t hi, uint8_t hid) {
  uint8_t* buf = reg->data + xoff + (uint32_t)(reg->w) * (uint32_t)yoff;
  uint8_t* max = reg->data + reg->len;
  uint32_t xmax = reg->w - 7; 
  uint8_t dx = 0;
  uint8_t i = 0;
  while(buf < max) {
    // break on end of string
    if(*str == 0) { break; } 
    if(i == hi) bg += hid;   
    dx = font_glyph(*str, buf, reg->w, fg, bg) + 1;
    if(i == hi) bg -= hid;   
    buf += dx;
    xoff += dx;
    ++str;
    // wrap lines
    if(xoff > xmax) { 
      return; 
    }

    i++;
  } 
}


// same as font_string, double size
uint8_t* font_string_big(const char* str, uint8_t* buf, uint32_t size, uint8_t w, uint8_t a, uint8_t b) {
  uint8_t* max = buf + size;
  while (buf < max) {
    if (*str == 0) {
      // end of string
      break;
    }
    buf = font_glyph_big(*str, buf, w, a, b);
    /* // 1-column space between chars */
    /* buf++; */
    /* str++; */
    // 2-column space between chars
    buf += 2;
    ++str;

  }
  return buf;
}

// same as font_string, 4x size
uint8_t* font_string_bigbig(const char* str, uint8_t* buf, uint32_t size, uint8_t w, uint8_t a, uint8_t b) {
  uint8_t* max = buf + size;
  while (buf < max) {
    if (*str == 0) {
      // end of string
      break;
    }
    buf = font_glyph_bigbig(*str, buf, w, a, b);
    // 1-column space between chars
    //    buf++;
    // 3-column space
    buf += 3;
    str++;
  }
  return buf;
}




/*

//-------------
//----- anti-aliased fonts (bitmaps)

// render an anti-aliased (4-bit) glyph to a buffer
// arguments are character, buffer, target row size, invert flag
extern uint8_t* font_glyph_aa(char ch, uint8_t* buf, uint8_t w, uint8_t inv) {
  //#if 0
  const char* gl; // glyph data
  //  uint8_t gw, gh; // glyph width and height
  uint8_t i, j;
  // how many bytes to move buf pointer for 1st column of next row
  uint32_t nextRowBytes;
    // buf pointer;
  char* p;
  // pointer to copy function
  //  void (*fp)(const char* src, char* dst);
  
  // fixme: wtf why
  //  if(inv) { fp = &copyPxInv; } else { fp = &copyPx; }

#if 0
  /// FIXME: might want only numerals
  //// hackish
  if( (ch > 45) && (ch < 58)) { // dot + numerals
    gl = FONT_AA[ch - 46].glyph.data;
    // print_dbg("\r\n printing numeral ");
    // print_dbg_char(ch);
    // print_dbg(" , glyphidx: ");
    // print_dbg_ulong(ch - 46);
  } else { 
    return buf;
  }
#else
  //  gl = FONT_AA[ch - FONT_ASCII_OFFSET].glyph.data;
  /// flaarggg
  //  print_dbg("\r\n render glyph: ");
  //  print_dbg_char(ch);
  //  print_dbg(" ( 0x");
  //  print_dbg_hex((uint32_t)ch);
  
  ////////
  /// FIXME: font is missing ` or _ or something
  if(ch > 95) { ch--; }
  ////////
  gl = FONT_AA[ch - FONT_ASCII_OFFSET].glyph.data;
#endif
  /// copy glyph to buffer...
  p = (char*)buf;
  nextRowBytes = w - FONT_AA_CHARW;
  //  print_dbg("\r\n");
  //  print_dbg("\r\n");

  if(inv) {
    // loop over rows
    for(i=0; i<FONT_AA_CHARH; i++) {
      // loop over columns
      for(j=0; j<FONT_AA_CHARW; j++) {
	//	print_dbg_char(*gl + 0x20);
	//      print_dbg(dbgStr[(uint32_t)(*gl)]);
	//	print_dbg(" ");
	// copy/invert pixel and advance pointers
	*p++ = 0xf - *gl++;
      }
      //      print_dbg("\r\n");
      // reset column and advance row
      p += nextRowBytes;
    }
    // return original buf pointer plus glyph width
  } else {
    // loop over rows
    for(i=0; i<FONT_AA_CHARH; i++) {
      // loop over columns
      for(j=0; j<FONT_AA_CHARW; j++) {
	//	print_dbg_char(*gl + 0x20);
	//      print_dbg(dbgStr[(uint32_t)(*gl)]);
	//	print_dbg(" ");
	// copy pixel and advance pointers
	*p++ = *gl++;
      }
      //      print_dbg("\r\n");
      // reset column and advance row
      p += nextRowBytes;
    }
  }
  // return original buf pointer plus glyph width
  return buf + FONT_AA_CHARW;
  //#endif
}

// render a string of packed glyphs to a buffer
extern uint8_t* font_string_aa(const char* str, uint8_t* buf, uint32_t size, uint8_t w, uint8_t inv) {
  uint8_t* max = buf + size;
  // print_dbg("\r\n antialiased string \"");
  // print_dbg(str);
  // print_dbg("\" font w, h: (");
  // print_dbg_ulong(FONT_AA_CHARW);
  // print_dbg(" , ");
  // print_dbg_ulong(FONT_AA_CHARH);
  // print_dbg(" ) , buf w: ");
  // print_dbg_ulong(w);

  /// FIXME: this bounds check looks wrong
  while (buf < max) {
    if (*str == 0) {
      // end of string
      break;
    }
    buf = font_glyph_aa(*str, buf, w, inv);
    // 1-column space between chars
    //    buf++;
    //// cutting the fonts with space included
    //// so that background doesn't bleed through here
    str++;
  }
  return buf;  
}

*/
